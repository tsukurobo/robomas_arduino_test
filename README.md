# RoboMasterMotor
ロボマスモーターをC610で動かす用のコードです。
Arduinoをもちいたテスト基盤で動作することを想定しています。

2024/11/30現在での使い方  
現状ある配線だと同時に二つのモーターを動かせます。

## コード例
```
#include "robomas.h"

void setup(){
  Serial.begin(9600);
  C610::begin();
}

void loop(){
  C610::put(1, 1000);
  C610::put(2, 1000);

  for(int i= 0; i<8; i++){
    Serial.print(C610::getAngle(i+1));
    Serial.print(" ");
  }

  Serial.println();
  C610::send();
  C610::receive();
  delay(100);
}
```

## 関数説明

C610::begin関数は初期化を行います。  
初めにsetup関数の中に記載してください。

C610::put関数でモーターのトルク電流を指定します。  
第一引数：C610のid(範囲：1～8)　第二引数：トルク電流(範囲：-10000～10000)  
idの指定方法は後で記載します。

C610::getAngle関数、C610::getVelocity関数、getTorqueCurrent関数はC610から取得した情報を返します。  
それぞれの戻り値はコードを参照してください。  
引数:C610のid(範囲：1~8)  
idの指定方法は後で記載します。

C610::send関数、C610::receive関数はデータの送受信を行います。  
必ずloop関数の中で一度は実行されるようにしてください。  
引数：なし

その他の関数は必須ではないので省略します。

## idの指定方法
C610を電源に接続します。  
ボタンを一度押すとidセットモードになるので指定したいidの数だけさらにボタンを押します。  
idは1~8までです。  
音が鳴ると設定完了です。  
ライトの点滅回数が現在のidを表しているので設定が正しくできているのかを確認してください。

## ファイルの配置方法
実行したいinoファイルと同じディレクトリにrobomas.hとrobomas.cppを置いてください。  
inoファイル内の冒頭に#include "robomas.h"を記載してください。



